<div class="ui-modal-overlay" [style.display]="(visible && backdrop) ? 'block' : 'none'"></div>
  <div class="ui-modal" tabindex="-1" role="dialog"
  #modalRoot 
  [appResizable]="resizeable"
  [restrictHeight]="minHeight"
  [ngStyle]="{
    'height': !minHeight ? undefined : minHeight + 'px',
    'opacity': visible? '0' : '1',
    'display': visible? 'flex' : 'none'
  }"
  [south]="true"
  [east]="true"
  [southEast]="true"
  [southWest]="true"
  [west]="true"
  [northWest]="true"
  [north]="true"
  [northEast]="true"
  (resizing)="onResize($event)"
  appDraggable
  [dragEventTarget]="dragEventTarget"
  [inViewport]="inViewport"
  (mousedown)="moveOnTop()"
  (touchstart)="moveOnTop()">
 <div class="ui-modal-header" #modalHeader
      (mousedown)="initDrag($event)"
      (touchstart)="initDrag($event)">
   <div class="ui-titlebar">
       <ng-container *ngIf="rendered && headerTemplateRef">
        <ng-container *ngTemplateOutlet="headerTemplateRef">
        </ng-container>
      </ng-container>
      <ng-container *ngIf="rendered && !headerTemplateRef">
         <ng-content select=".app-modal-header"></ng-content>
      </ng-container>
   </div>
   <div class="ui-controlbar">
       <i class="ui-icon"
          *ngIf="maximizable"
          (click)="toggleMaximize($event)"
          [ngClass]="{'dt-icon-maximize': !maximized, 'dt-icon-normalize': maximized}">
       </i>
       <i class="ui-icon dt-icon-close" #closeIcon (click)="hide()">
       </i>
   </div>
 </div>

 <div class="ui-modal-body" #modalBody>
    <ng-container *ngIf="rendered && bodyTemplateRef">
      <ng-container *ngTemplateOutlet="bodyTemplateRef">
      </ng-container>
    </ng-container>
    <ng-container *ngIf="rendered && !bodyTemplateRef">
      <ng-content select=".app-modal-body">
      </ng-content>
    </ng-container>
 </div>
 <div class="ui-modal-footer" #modalFooter>
   <ng-container *ngIf="rendered && footerTemplateRef">
    <ng-container *ngTemplateOutlet="footerTemplateRef">
    </ng-container>
  </ng-container>
  <ng-container *ngIf="rendered && !footerTemplateRef">
    <ng-content select=".app-modal-footer">
    </ng-content>
  </ng-container>
 </div>
</div>